# ============================================
# Environment Configuration
# ============================================
# Environment: development, testing, staging, production
ENVIRONMENT=development
DEBUG=true

# ============================================
# Google OAuth Configuration
# ============================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
# For production:
# AUTH_REDIRECT_URI=https://your-hf-space.hf.space/backend/auth/google/callback
# FRONTEND_URL=https://your-username.github.io/your-repo
AUTH_REDIRECT_URI=http://localhost:3000/auth/google/callback
FRONTEND_URL=http://localhost:3000

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET_KEY=your-super-secret-jwt-key-at-least-32-characters-long
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=10080  # 7 days

# ============================================
# Database Configuration
# ============================================
DATABASE_URL=sqlite:///./database/auth.db
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_AUTO_MIGRATE=true

# ============================================
# Gemini API Configuration (for OpenAI SDK)
# ============================================
GEMINI_API_KEY=your-gemini-api-key
GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta/openai/
GEMINI_MODEL=gemini-2.0-flash-lite
GEMINI_TIMEOUT=60
GEMINI_MAX_RETRIES=3
GEMINI_RETRY_DELAY=1.0
GEMINI_HTTP2=true
GEMINI_RPM=60
GEMINI_RPH=1000

# ============================================
# OpenRouter API Configuration (Fallback)
# ============================================
# Get your API key from https://openrouter.ai/keys
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODEL=meta-llama/llama-3.2-3b-instruct:free
OPENROUTER_TIMEOUT=60
OPENROUTER_MAX_RETRIES=3

# ============================================
# OpenAI Agents SDK Configuration
# ============================================
OPENAI_AGENTS_ENABLED=true
OPENAI_AGENTS_TRACING=false
OPENAI_AGENTS_VERBOSE=false
AGENT_DEFAULT_TEMPERATURE=0.3
AGENT_MAX_TOKENS=2048
AGENT_MAX_TURNS=5
AGENT_HTML_TOOL=true
AGENT_CODE_TOOL=true
AGENT_QUALITY_TOOL=true
AGENT_QUALITY_CHECK=true
AGENT_CONFIDENCE_THRESHOLD=0.8

# ============================================
# Legacy OpenAI Configuration (for RAG)
# ============================================
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4.1-nano
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ============================================
# Cache Configuration
# ============================================
CACHE_BACKEND=memory
CACHE_DEFAULT_TTL=168
CACHE_HIGH_QUALITY_TTL=720
CACHE_LOW_QUALITY_TTL=24
REDIS_URL=redis://localhost:6379
REDIS_PREFIX=translation:
REDIS_MAX_CONNECTIONS=10
CACHE_MEMORY_MAX_SIZE=1000
CACHE_CLEANUP_INTERVAL=3600

# ============================================
# Rate Limiting Configuration
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPM=60
RATE_LIMIT_RPH=1000
RATE_LIMIT_RPD=10000
TRANSLATION_RPM=10
TRANSLATION_RPH=500
RATE_LIMIT_BLOCK_DURATION=3600
RATE_LIMIT_WARNING_THRESHOLD=0.8
RATE_LIMIT_REDIS=false

# ============================================
# API Configuration
# ============================================
API_HOST=0.0.0.0
API_PORT=7860
LOG_LEVEL=INFO

# ============================================
# CORS Configuration
# ============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://mrowaisabdullah.github.io,https://huggingface.co
CORS_METHODS=GET,POST,PUT,DELETE
CORS_HEADERS=*

# ============================================
# Security Configuration
# ============================================
SECURITY_REQUIRE_API_KEY=false
SECURITY_API_KEY_HEADER=X-API-Key
SECURITY_MAX_TEXT_LENGTH=100000
SECURITY_MAX_CHUNKS=100
SECURITY_CONTENT_FILTER=true
SECURITY_BLOCKED_PATTERNS=
SECURITY_IP_WHITELIST=
SECURITY_IP_BLACKLIST=

# ============================================
# Logging Configuration
# ============================================
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/translation.log
LOG_FILE_ROTATION=1 day
LOG_FILE_RETENTION=30 days
LOG_MAX_FILE_SIZE=100 MB
LOG_JSON_FORMAT=false
LOG_INCLUDE_REQUEST_ID=true
LOG_FILTER_SENSITIVE=true
SENSITIVE_FIELDS=api_key,password,token,authorization

# ============================================
# Monitoring Configuration
# ============================================
MONITORING_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_PORT=9090
HEALTH_ENDPOINT=/health
HEALTH_DETAILED=true
TRACK_PERFORMANCE=true
SLOW_QUERY_THRESHOLD=1000
TRACK_ERRORS=true
ERROR_SAMPLE_RATE=1.0

# External Monitoring
SENTRY_DSN=
PROMETHEUS_GATEWAY=

# ============================================
# Qdrant Configuration (for RAG)
# ============================================
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key-if-needed

# ============================================
# Content Configuration (for RAG)
# ============================================
BOOK_CONTENT_PATH=./book_content
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# ============================================
# Conversation Context (for RAG)
# ============================================
MAX_CONTEXT_MESSAGES=3
CONTEXT_WINDOW_SIZE=4000

# ============================================
# Ingestion Configuration (for RAG)
# ============================================
BATCH_SIZE=100
MAX_CONCURRENT_REQUESTS=10

# ============================================
# Health Monitoring
# ============================================
HEALTH_CHECK_INTERVAL=30

# ============================================
# Proxy Configuration (Optional)
# ============================================
HTTP_PROXY=
HTTPS_PROXY=

# ============================================
# Feature Flags
# ============================================
FEATURE_STREAMING=true
FEATURE_QUALITY_CHECK=true
FEATURE_CHUNKING=true
FEATURE_CODE_PRESERVATION=true
FEATURE_HTML_PRESERVATION=true
FEATURE_BATCH_TRANSLATION=true